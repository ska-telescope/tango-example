# Test case (2):
# - Run a device server with an invalid configuration, in this case
#   a device name with 4 path components
#
# Expected behavior:
# - The device server resources should not be deployed
#   and an error made visible, preferably at the API level (when doing helm install)
#
# Behavior with ska-tango-util:
# - Deployment is allowed and the configuration Job fails. The PODs go into
#   'ERROR' state and new PODs are created
# - Device Server POD is stuck in the init-container that waits for the Job
#   to be completed
#
# Behavior with the ska-tango-operator:
# - Missing operator tests to analyze current behavior
#
instances: ["test"]
entrypoints:
  - name: "HelloWorld.HelloWorld"
    path: "/app/src/ska_tango_examples/basic_example/HelloWorld.py"
server:
  instances:
    - name: "test"
      classes:
      - name: "HelloWorld"
        devices:
        - name: "operator/incorrectconfiguration/wontwork/1"
          properties:
          - name: "LOGGING_LEVEL"
            values:
            - "DEBUG"
          - name: "message"
            values:
            - "Hello TANGO World, I'm incorrectconfiguration"
          - name: "sleep_time"
            values:
            - "3"
