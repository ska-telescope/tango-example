# Test case (1):
# - Run a device server without the required TANGO Host running
#
# Expected behavior:
# - The device server resources should not start until that dependency is met
#   and an error made visible. The dependency checking on TANGO_HOST should be done,
#   regardless of checking "sys/databaseds/2", because those are two (similar, but)
#   different things
#
# Behavior with ska-tango-util:
# - Device server fails connecting to the database ds and eventually crashes and
#   goes into CrashLoopBackoff
#
# Behavior with the ska-tango-operator:
# - Missing operator tests to analyze current behavior
#
instances: ["test"]
entrypoints:
  - name: "HelloWorld.HelloWorld"
    path: "/app/src/ska_tango_examples/operator/HelloWorld.py"
server:
  instances:
    - name: "test"
      classes:
      - name: "HelloWorld"
        devices:
        - name: "operator/notangohost/1"
          properties:
          - name: "LOGGING_LEVEL"
            values:
            - "DEBUG"
          - name: "message"
            values:
            - "Hello TANGO World, I'm notangohost"
          - name: "sleep_time"
            values:
            - "5"
environment_variables:
  - name: TANGO_HOST
    value: some-not-available-location:10000